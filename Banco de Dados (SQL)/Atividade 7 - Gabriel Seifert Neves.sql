-- A) CRIAR AS SEGUINTES TABELAS

CREATE TABLE CLIENTE
(CODCLI			INT,
NOME			VARCHAR(30),
ENDER			VARCHAR(40),
BAIRRO			VARCHAR(20),
CIDADE			VARCHAR(20),
IDADE			INT,
CONSTRAINT PK_CODCLI PRIMARY KEY (CODCLI));

CREATE TABLE PRODUTOS
(CODPROD		INT,
DESCRIÇÃO		VARCHAR(20),
PREÇO			NUMERIC(9,2),
CONSTRAINT PK_CODPROD PRIMARY KEY (CODPROD));

CREATE TABLE PEDIDOS
(CODPED			INT,
CODCLI			INT,
DATAA			DATETIME,
CONSTRAINT PK_CODPED PRIMARY KEY (CODPED),
CONSTRAINT FK_CODCLI FOREIGN KEY (CODCLI) REFERENCES CLIENTE (CODCLI));

CREATE TABLE ITENS_PEDIDO
(CODPED			INT,
CODPROD			INT,
QTDE			INT,
CONSTRAINT PK_CODPED_POD PRIMARY KEY (CODPED, CODPROD),
CONSTRAINT FK_CODPED FOREIGN KEY (CODPED) REFERENCES  PEDIDOS (CODPED),
CONSTRAINT FK_CODPROD FOREIGN KEY (CODPROD) REFERENCES PRODUTOS (CODPROD));

-- B) INSERIR 5 REGISTROS

INSERT INTO CLIENTE VALUES
('01','JOÃO', 'RUA A', 'BAIRRO A', 'CIDADE A','20'),
('02','GABRIEL', 'RUA B', 'BAIRRO B', 'CIDADE B','22'),
('03','MARIA', 'RUA C', 'BAIRRO C', 'CIDADE C','24'),
('04','ANA', 'RUA D', 'BAIRRO D', 'CIDADE D','26'),
('05','BRIGITE', 'RUA E', 'BAIRRO E', 'CIDADE E','28');

INSERT INTO PRODUTOS VALUES
('01','AAA','60.00'),
('02','BBB','200.00'),
('03','CCC','300.00'),
('04','DDD','400.00'),
('05','EEE','500.00');

INSERT INTO PEDIDOS VALUES
('01','01','25-04-2022'),
('02','02','30-05-2022'),
('03','03','10-06-2022'),
('04','04','5-07-2022'),
('05','05','9-08-2022');

INSERT INTO ITENS_PEDIDO VALUES
('01','01','01'),
('02','02','02'),
('03','03','03'),
('04','04','04'),
('05','05','05');

-- C) SELECIONAR TODOS OS PRODUTOS COM PREÇO ENTRE 10 E 70.
SELECT * FROM PRODUTOS WHERE PREÇO >=10 AND PREÇO <= 70;

-- D) QUAL A MEDIA DE IDADE DOS CLIENTES.
SELECT AVG(IDADE) FROM CLIENTE;

-- E) QUAL A MÉDIA DE PROÇOS DOS PRODUTOS.
SELECT AVG(PREÇO) FROM PRODUTOS;

-- F) QUANTOS PEDIDOS TEMOS NO CADASTRO?
SELECT COUNT(*) FROM PEDIDOS;

-- G) SELECIONAR TODOS OS CLIENTES QUE MORAM EM CIDADE A, CIDADE C, CIDADE E.
SELECT * FROM CLIENTE WHERE CIDADE IN ('CIDADE A', 'CIDADE C', 'CIDADE E');

-- SELECIONAR TABELAS
SELECT * FROM CLIENTE;
SELECT * FROM PRODUTOS;
SELECT * FROM PEDIDOS;
SELECT * FROM ITENS_PEDIDO;
